{"version":3,"sources":["images/map-marker.svg","images/logo.svg","pages/Landing.tsx","services/api.ts","pages/OrphanagesMap.tsx","components/Sidebar.tsx","utils/mapIcon.ts","pages/Orphanage.tsx","pages/CreateOrphanage.tsx","routes.tsx","App.tsx","index.tsx"],"names":["module","exports","Landing","id","className","src","logoImg","alt","to","size","color","api","axios","create","baseURL","mapIcon","Leaflet","icon","iconUrl","mapMarkerImg","iconSize","iconAnchor","popupAnchor","OrphanagesMap","useState","orphanages","setOrphanages","useEffect","get","then","response","data","Map","center","zoom","style","width","height","TileLayer","url","process","map","orfanato","Marker","key","position","latitude","longitude","Popup","closeButton","minWidth","maxWidth","name","Sidebar","goBack","useHistory","type","onClick","Orphanage","orphanage","setOrphanage","params","useParams","activeImageIndex","setActiveImageIndex","images","imagem","index","about","dragging","touchZoom","zoomControl","scrollWheelZoom","doubleClickZoom","interactive","target","rel","href","instructions","opening_hours","open_on_weekends","CreateOrphanage","history","setPosition","setName","setAbout","setInstructions","setOpeningHours","setOpenOnWeekends","setImages","previewImages","setPreviewImages","event","a","preventDefault","FormData","append","String","forEach","image","post","alert","push","onSubmit","onclick","latlng","lat","lng","MapIcon","htmlFor","value","onChange","maxLength","multiple","files","selectedImages","Array","from","selectedImagesPreview","URL","createObjectURL","Routes","path","exact","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4FAAAA,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,ySCgC5BC,MAxBf,WACI,OACI,yBAAKC,GAAG,gBACV,yBAAKC,UAAU,mBACb,yBAAKC,IAAKC,IAASC,IAAI,UAEvB,8BACE,4DACA,mFAGF,yBAAKH,UAAU,YACb,8CACA,+CAGF,kBAAC,IAAD,CAAMI,GAAG,OAAOJ,UAAU,aACxB,kBAAC,IAAD,CAAcK,KAAM,GAAIC,MAAM,wB,wFCnBzBC,E,OAJHC,EAAMC,OAAO,CACrBC,QAAS,0BCaPC,EAAUC,IAAQC,KAAK,CACzBC,QAAUC,IACVC,SAAU,CAAC,GAAG,IACdC,WAAY,CAAC,GAAG,IAChBC,YAAY,CAAC,IAAI,KA2DNC,MAxDf,WAAyB,IAAD,EACgBC,mBAAsB,IADtC,mBACbC,EADa,KACDC,EADC,KAUpB,OAPAC,qBAAW,WACPhB,EAAIiB,IAAI,eAAeC,MAAK,SAAAC,GACxBJ,EAAcI,EAASC,WAE5B,IAIC,yBAAK5B,GAAG,YACJ,+BACI,gCACI,yBAAKE,IAAKc,IAAcZ,IAAI,UAC5B,2DACA,mFAGJ,gCACI,8CACA,gDAGR,kBAACyB,EAAA,EAAD,CAAKC,OAAQ,EAAE,YAAY,YAClBC,KAAM,GACNC,MAAO,CAACC,MAAM,OAAQC,OAAO,SAG9B,kBAACC,EAAA,EAAD,CAAWC,IAAG,oGAAgGC,oGAC7Gf,EAAWgB,KAAI,SAAAC,GACZ,OACI,kBAACC,EAAA,EAAD,CAAQC,IAAKF,EAASvC,GACd0C,SAAU,CAACH,EAASI,SAASJ,EAASK,WACtC9B,KAAMF,GAEV,kBAACiC,EAAA,EAAD,CAAOC,aAAa,EAAOC,SAAU,IAAKC,SAAU,IAAK/C,UAAU,aAC9DsC,EAASU,KACV,kBAAC,IAAD,CAAM5C,GAAE,sBAAiBkC,EAASvC,KAC9B,kBAAC,IAAD,CAAcM,KAAM,GAAIC,MAAM,eAS1D,kBAAC,IAAD,CAAMF,GAAG,qBAAqBJ,UAAU,oBACpC,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,Y,YClEzB,SAAS2C,IAAU,IACtBC,EAAWC,cAAXD,OACR,OACI,2BAAOlD,UAAU,eACb,yBAAKC,IAAKc,IAAcZ,IAAI,UAE5B,gCACA,4BAAQiD,KAAK,SAASC,QAASH,GAC3B,kBAAC,IAAD,CAAa7C,KAAM,GAAIC,MAAM,YCV7C,IAQiBK,EARDC,IAAQC,KAAK,CACzBC,QAASC,IAETC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,MC0BP,SAASoC,IAAa,IAAD,EACAlC,qBADA,mBAC3BmC,EAD2B,KAChBC,EADgB,KAE5BC,EAASC,cAFmB,EAGctC,mBAAS,GAHvB,mBAG3BuC,EAH2B,KAGTC,EAHS,KAWlC,OANArC,qBAAW,WACPhB,EAAIiB,IAAJ,sBAAuBiC,EAAO1D,KAAM0B,MAAK,SAAAC,GACrC8B,EAAa9B,EAASC,WAE3B,CAAC8B,EAAO1D,KAENwD,EAKH,yBAAKxD,GAAG,kBACN,kBAACkD,EAAD,MAEA,8BACE,yBAAKjD,UAAU,qBACb,yBAAKC,IAAKsD,EAAUM,OAAOF,GAAkBxB,IAAKhC,IAAKoD,EAAUP,OAEjE,yBAAKhD,UAAU,UACZuD,EAAUM,OAAOxB,KAAI,SAACyB,EAAOC,GAC5B,OACE,4BACMvB,IAAKsB,EAAO/D,GACZC,UAAW2D,IAAmBI,EAAM,SAAS,GAC7CX,KAAK,SACLC,QACE,WACEO,EAAoBG,KAI5B,yBAAK9D,IAAK6D,EAAO3B,IAAKhC,IAAKoD,EAAUP,YAM7C,yBAAKhD,UAAU,6BACb,4BAAKuD,EAAUP,MACf,2BACGO,EAAUS,OAGb,yBAAKhE,UAAU,iBACb,kBAAC4B,EAAA,EAAD,CACEC,OAAQ,CAAC0B,EAAUb,SAASa,EAAUZ,WACtCb,KAAM,GACNC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,KAChCgC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,iBAAiB,EACjBC,iBAAiB,GAEjB,kBAACnC,EAAA,EAAD,CACEC,IAAG,kGAA6FC,oGAElG,kBAACG,EAAA,EAAD,CAAQ+B,aAAa,EAAOzD,KAAMF,EAAS8B,SAAU,CAACc,EAAUb,SAASa,EAAUZ,cAGrF,gCACE,uBAAG4B,OAAO,SAASC,IAAI,sBAAsBC,KAAI,6DAAwDlB,EAAUb,SAAlE,YAA8Ea,EAAUZ,YAAzI,8BAIJ,6BAEA,4DACA,2BACGY,EAAUmB,cAGb,yBAAK1E,UAAU,gBACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAASK,KAAM,GAAIC,MAAM,YAD3B,sBAEkB,6BACfiD,EAAUoB,eAEZpB,EAAUqB,iBACT,yBAAK5E,UAAU,oBACf,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,YADxB,aAEU,6BAFV,iBAMA,yBAAKN,UAAU,sBACf,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,YADxB,oBAEc,6BAFd,sBA9EJ,yC,mCC7BG,SAASuE,IACtB,IAAMC,EAAU3B,cADwB,EAGR/B,mBAAS,CAAEsB,SAAU,EAAGC,UAAW,IAH3B,mBAGjCF,EAHiC,KAGvBsC,EAHuB,OAKhB3D,mBAAS,IALO,mBAKjC4B,EALiC,KAK3BgC,EAL2B,OAMd5D,mBAAS,IANK,mBAMjC4C,EANiC,KAM1BiB,EAN0B,OAOA7D,mBAAS,IAPT,mBAOjCsD,EAPiC,KAOnBQ,EAPmB,OAQC9D,mBAAS,IARV,mBAQjCuD,EARiC,KAQlBQ,EARkB,OASM/D,oBAAS,GATf,mBASjCwD,EATiC,KASfQ,EATe,OAUZhE,mBAAiB,IAVL,mBAUjCyC,EAViC,KAUzBwB,EAVyB,OAWEjE,mBAAmB,IAXrB,mBAWjCkE,EAXiC,KAWlBC,EAXkB,iDAsCxC,WAA4BC,GAA5B,mBAAAC,EAAA,6DACED,EAAME,iBAEEhD,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,WAEZhB,EAAO,IAAIgE,UAEZC,OAAO,OAAQ5C,GACpBrB,EAAKiE,OAAO,QAAS5B,GACrBrC,EAAKiE,OAAO,WAAYC,OAAOnD,IAC/Bf,EAAKiE,OAAO,YAAaC,OAAOlD,IAChChB,EAAKiE,OAAO,eAAgBlB,GAC5B/C,EAAKiE,OAAO,gBAAiBjB,GAC7BhD,EAAKiE,OAAO,mBAAoBC,OAAOjB,IAEvCf,EAAOiC,SAAQ,SAAAC,GACbpE,EAAKiE,OAAO,SAAUG,MAhB1B,UAmBQxF,EAAIyF,KAAK,aAAcrE,GAnB/B,QAqBEsE,MAAM,kCAENnB,EAAQoB,KAAK,QAvBf,6CAtCwC,sBAgExC,OACE,yBAAKnG,GAAG,yBACN,kBAACkD,EAAD,MAEA,8BACE,0BAAMkD,SArE4B,4CAqEHnG,UAAU,yBACvC,kCACE,yCAEA,kBAAC4B,EAAA,EAAD,CACEC,OAAQ,EAAE,YAAY,YACtBE,MAAO,CAAEC,MAAO,OAAQC,OAAQ,KAChCH,KAAM,GACNsE,QAhEZ,SAAwBZ,GAA2B,IAAD,EAC3BA,EAAMa,OAAnBC,EADwC,EACxCA,IAAKC,EADmC,EACnCA,IAEbxB,EAAY,CACVrC,SAAU4D,EACV3D,UAAW4D,MA6DH,kBAACrE,EAAA,EAAD,CACEC,IAAG,kGAA6FC,oGAG1E,IAAtBK,EAASC,UACT,kBAACH,EAAA,EAAD,CACE+B,aAAa,EACbzD,KAAM2F,EACN/D,SAAU,CACRA,EAASC,SACTD,EAASE,cAOjB,yBAAK3C,UAAU,eACb,2BAAOyG,QAAQ,QAAf,QACA,2BACE1G,GAAG,OACH2G,MAAO1D,EACP2D,SAAU,SAAAnB,GAAK,OAAIR,EAAQQ,EAAMjB,OAAOmC,WAI5C,yBAAK1G,UAAU,eACb,2BAAOyG,QAAQ,SAAf,SAA6B,8DAC7B,8BACE1G,GAAG,OACH6G,UAAW,IACXF,MAAO1C,EACP2C,SAAU,SAAAnB,GAAK,OAAIP,EAASO,EAAMjB,OAAOmC,WAI7C,yBAAK1G,UAAU,eACb,2BAAOyG,QAAQ,UAAf,SAEA,yBAAKzG,UAAU,oBACZsF,EAAcjD,KAAI,SAAA0D,GACjB,OACE,yBAAKvD,IAAKuD,EAAO9F,IAAK8F,EAAO5F,IAAK6C,OAKtC,2BAAOyD,QAAQ,UAAUzG,UAAU,aACjC,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,cAI5B,2BACEuG,UAAQ,EACRzD,KAAK,OACLrD,GAAG,UACH4G,SAjHd,SAA4BnB,GAC1B,GAAKA,EAAMjB,OAAOuC,MAAlB,CAIA,IAAMC,EAAiBC,MAAMC,KAAKzB,EAAMjB,OAAOuC,OAE/CzB,EAAU0B,GAEV,IAAMG,EAAwBH,EAAe1E,KAAI,SAAA0D,GAC/C,OAAOoB,IAAIC,gBAAgBrB,MAG7BR,EAAiB2B,SA2GX,kCACE,mDAEA,yBAAKlH,UAAU,eACb,2BAAOyG,QAAQ,gBAAf,oBACA,8BACE1G,GAAG,eACH2G,MAAOhC,EACPiC,SAAU,SAAAnB,GAAK,OAAIN,EAAgBM,EAAMjB,OAAOmC,WAIpD,yBAAK1G,UAAU,eACb,2BAAOyG,QAAQ,iBAAf,+BACA,2BACE1G,GAAG,gBACH2G,MAAO/B,EACPgC,SAAU,SAAAnB,GAAK,OAAIL,EAAgBK,EAAMjB,OAAOmC,WAIpD,yBAAK1G,UAAU,eACb,2BAAOyG,QAAQ,oBAAf,wBAEA,yBAAKzG,UAAU,iBACb,4BACEoD,KAAK,SACLpD,UAAW4E,EAAmB,SAAW,GACzCvB,QAAS,kBAAM+B,GAAkB,KAHnC,OAQA,4BACEhC,KAAK,SACLpD,UAAY4E,EAA8B,GAAX,SAC/BvB,QAAS,kBAAM+B,GAAkB,KAHnC,aAWN,4BAAQpF,UAAU,iBAAiBoD,KAAK,UAAxC,gBCvLKiE,MAbf,WACI,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAW1H,IACjC,kBAAC,IAAD,CAAOwH,KAAK,OAAOE,UAAWrG,IAC9B,kBAAC,IAAD,CAAOmG,KAAK,qBAAqBE,UAAW3C,IAC5C,kBAAC,IAAD,CAAOyC,KAAK,kBAAkBE,UAAWlE,OCN1CmE,MANf,WACE,OACE,kBAAC,EAAD,OCAJC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.c9e13886.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map-marker.658b8302.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.1653c647.svg\";","import React from 'react';\nimport '../styles/global.css';\nimport '../styles/pages/landing.css';\nimport logoImg from '../images/logo.svg';\nimport {FiArrowRight} from 'react-icons/fi';\nimport {Link} from 'react-router-dom';\nimport '../styles/pages/orphanages-map.css';\n\nfunction Landing(){\n    return (\n        <div id=\"page-landing\">\n      <div className=\"content-wrapper\">\n        <img src={logoImg} alt=\"happy\"/>\n\n        <main>\n          <h1>Leve felicidade para o mundo</h1>\n          <p>Visite orfanatos e mude o dia de muitas crianças</p>\n        </main>\n\n        <div className=\"location\">\n          <strong>Marília</strong>\n          <span>São Paulo</span>\n        </div>\n\n        <Link to=\"/app\" className=\"enter-app\">\n          <FiArrowRight size={26} color=\"rgba(0,0,0,0.6)\" />\n        </Link>\n        </div>\n    </div>\n    );\n}\n\nexport default Landing;","import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'http://localhost:3333'\n});\n\nexport default api;","import React, {useEffect, useState} from 'react';\nimport mapMarkerImg from '../images/map-marker.svg';\nimport {Link} from 'react-router-dom';\nimport {FiArrowRight, FiPlus} from 'react-icons/fi';\nimport {Map, TileLayer, Marker, Popup} from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport Leaflet from 'leaflet';\nimport api from '../services/api';\n\ninterface Orphanage{\n    id: number;\n    latitude:number;\n    longitude:number;\n    name:string;\n}\n\nconst mapIcon = Leaflet.icon({\n    iconUrl : mapMarkerImg,\n    iconSize: [58,68],\n    iconAnchor: [29,68],\n    popupAnchor:[170,2]\n});\n\nfunction OrphanagesMap(){\n    const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\n\n    useEffect( ()=>{\n        api.get('/orphanages').then(response=>{\n            setOrphanages(response.data);\n        })\n    }, []);\n\n\n    return (\n        <div id=\"page-map\">\n            <aside>\n                <header>\n                    <img src={mapMarkerImg} alt=\"happy\"/>\n                    <h2>Escolha um orfanato no mapa</h2>\n                    <p>Muitas crianças estão esperando sua visita :)</p>\n                </header>\n\n                <footer>\n                    <strong>Marília</strong>\n                    <span>São Paulo</span>\n                </footer>\n            </aside>\n            <Map center={[-22.2385389,-49.9059505]}\n                     zoom={15}\n                     style={{width:'100%', height:'100%'}}\n                >\n                    {/*<TileLayer url=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\" />*/}\n                    <TileLayer url= {`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`} />\n                    {orphanages.map(orfanato=>{\n                        return(\n                            <Marker key={orfanato.id}\n                                    position={[orfanato.latitude,orfanato.longitude]}\n                                    icon={mapIcon}>\n                                \n                                <Popup closeButton={false} minWidth={240} maxWidth={240} className=\"map-popup\" >\n                                    {orfanato.name}\n                                    <Link to={`/orphanages/${orfanato.id}`}>\n                                        <FiArrowRight size={20} color=\"FFF\"/>\n                                    </Link>\n                                </Popup>\n                            </Marker>\n                        )\n                    })}\n            </Map>\n            \n\n            <Link to=\"/orphanages/create\" className=\"create-orphanage\">\n                <FiPlus size={32} color=\"#FFF\"/>\n            </Link>\n\n        </div>\n    );\n}\n\nexport default OrphanagesMap;","import React from 'react';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { useHistory } from 'react-router-dom';\nimport mapMarkerImg from '../images/map-marker.svg';\nimport '../styles/components/sidebar.css';\n\nexport default function Sidebar(){\n    const { goBack } = useHistory();\n    return (\n        <aside className=\"app-sidebar\">\n            <img src={mapMarkerImg} alt=\"Happy\" />\n\n            <footer>\n            <button type=\"button\" onClick={goBack}>\n                <FiArrowLeft size={24} color=\"#FFF\" />\n            </button>\n            </footer>\n      </aside>\n)\n}","import Leaflet from 'leaflet';\n\nimport mapMarkerImg from '../images/map-marker.svg';\n\nconst mapIcon = Leaflet.icon({\n    iconUrl: mapMarkerImg,\n  \n    iconSize: [58, 68],\n    iconAnchor: [29, 68],\n    popupAnchor: [0, -60]\n  })\n\n  export default mapIcon;","import React, { useEffect, useState } from \"react\";\nimport { FaWhatsapp } from \"react-icons/fa\";\nimport { FiClock, FiInfo, FiArrowLeft } from \"react-icons/fi\";\nimport { Map, Marker, TileLayer } from \"react-leaflet\";\nimport { useHistory } from 'react-router-dom';\nimport L from 'leaflet';\nimport {useParams} from 'react-router-dom';\n\nimport mapMarkerImg from '../images/map-marker.svg';\n\nimport '../styles/pages/orphanage.css';\nimport Sidebar from \"../components/Sidebar\";\nimport mapIcon from '../utils/mapIcon';\nimport api from \"../services/api\";\n\n\ninterface Orphanage{\n  id: number;\n  latitude:number;\n  longitude:number;\n  name:string;\n  about:string;\n  instructions:string;\n  opening_hours:string;\n  open_on_weekends:boolean;\n  images:Array<{\n    url:string;\n    id:number;\n  }>\n}\n\ninterface OrphanageParams{\n  id: string;\n}\n\nexport default function Orphanage() {\n  const [orphanage, setOrphanage] = useState<Orphanage>();\n  const params = useParams<OrphanageParams>();\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n\n  useEffect( ()=>{\n      api.get(`/orphanages/${params.id}`).then(response=>{\n          setOrphanage(response.data);\n      })\n  }, [params.id]);\n\n  if (!orphanage){\n    return (<p>carregando</p>)\n  }\n\n  return (\n    <div id=\"page-orphanage\">\n      <Sidebar/>\n\n      <main>\n        <div className=\"orphanage-details\">\n          <img src={orphanage.images[activeImageIndex].url} alt={orphanage.name} />\n\n          <div className=\"images\">\n            {orphanage.images.map((imagem,index)=>{\n              return (\n                <button \n                      key={imagem.id}\n                      className={activeImageIndex===index?'active':''} \n                      type=\"button\"\n                      onClick={\n                        ()=>{\n                          setActiveImageIndex(index);\n                        }\n                      }      \n                >\n                  <img src={imagem.url} alt={orphanage.name} />\n                </button>\n              )\n            })}\n          </div>\n          \n          <div className=\"orphanage-details-content\">\n            <h1>{orphanage.name}</h1>\n            <p>\n              {orphanage.about}\n            </p>\n\n            <div className=\"map-container\">\n              <Map \n                center={[orphanage.latitude,orphanage.longitude]} \n                zoom={16} \n                style={{ width: '100%', height: 280 }}\n                dragging={false}\n                touchZoom={false}\n                zoomControl={false}\n                scrollWheelZoom={false}\n                doubleClickZoom={false}\n              >\n                <TileLayer \n                  url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                />\n                <Marker interactive={false} icon={mapIcon} position={[orphanage.latitude,orphanage.longitude]} />\n              </Map>\n\n              <footer>\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://www.google.com/maps/dir/?api=1&destination=${orphanage.latitude},${orphanage.longitude}`}>Ver rotas no Google Maps</a>\n              </footer>\n            </div>\n\n            <hr />\n\n            <h2>Instruções para visita</h2>\n            <p>\n              {orphanage.instructions}\n            </p>\n\n            <div className=\"open-details\">\n              <div className=\"hour\">\n                <FiClock size={32} color=\"#15B6D6\" />\n                Segunda à Sexta <br />\n                {orphanage.opening_hours}\n              </div>\n              {orphanage.open_on_weekends ? (\n                <div className=\"open-on-weekends\">\n                <FiInfo size={32} color=\"#39CC83\" />\n                Atendemos <br />\n                fim de semana\n              </div>\n              ) : (\n                <div className=\"closed-on-weekends\">\n                <FiInfo size={32} color=\"#FF669D\" />\n                Não atendemos <br />\n                fim de semana\n              </div>\n              )}\n            </div>\n\n           {/*  <button type=\"button\" className=\"contact-button\">\n              <FaWhatsapp size={20} color=\"#FFF\" />\n              Entrar em contato\n            </button> */}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}","import React, { FormEvent,ChangeEvent, useState } from \"react\";\nimport { Map, Marker, TileLayer,MapEvents } from 'react-leaflet';\nimport L from 'leaflet';\nimport { useHistory } from \"react-router-dom\";\n\nimport { FiArrowLeft, FiPlus } from \"react-icons/fi\";\n\nimport mapMarkerImg from '../images/map-marker.svg';\n\nimport '../styles/pages/create-orphanage.css';\nimport Sidebar from '../components/Sidebar';\n\nimport mapIcon from '../utils/mapIcon';\n\nimport {LeafletMouseEvent} from 'leaflet';\nimport api from '../services/api';\nimport MapIcon from '../utils/mapIcon';\n\nexport default function CreateOrphanage() {\n  const history = useHistory()\n\n  const [position, setPosition] = useState({ latitude: 0, longitude: 0 })\n\n  const [name, setName] = useState('')\n  const [about, setAbout] = useState('')\n  const [instructions, setInstructions] = useState('')\n  const [opening_hours, setOpeningHours] = useState('')\n  const [open_on_weekends, setOpenOnWeekends] = useState(true)\n  const [images, setImages] = useState<File[]>([])\n  const [previewImages, setPreviewImages] = useState<string[]>([])\n\n  function handleMapClick(event: LeafletMouseEvent) {\n    const { lat, lng } = event.latlng\n\n    setPosition({\n      latitude: lat,\n      longitude: lng,\n    })\n  }\n\n  function handleSelectImages(event: ChangeEvent<HTMLInputElement>) {\n    if (!event.target.files) {\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files)\n    \n    setImages(selectedImages)\n\n    const selectedImagesPreview = selectedImages.map(image => {\n      return URL.createObjectURL(image)\n    })\n\n    setPreviewImages(selectedImagesPreview)\n  }\n\n  async function handleSubmit(event: FormEvent) {\n    event.preventDefault()\n\n    const { latitude, longitude } = position\n\n    const data = new FormData()\n\n    data.append('name', name)\n    data.append('about', about)\n    data.append('latitude', String(latitude))\n    data.append('longitude', String(longitude))\n    data.append('instructions', instructions)\n    data.append('opening_hours', opening_hours)\n    data.append('open_on_weekends', String(open_on_weekends))\n\n    images.forEach(image => {\n      data.append('images', image)\n    })\n    \n    await api.post('orphanages', data)\n\n    alert('Cadastro concluido com sucesso')\n\n    history.push('/app')\n  }\n\n  return (\n    <div id=\"page-create-orphanage\">\n      <Sidebar />\n\n      <main>\n        <form onSubmit={handleSubmit}  className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <Map \n              center={[-22.2385273,-49.9059414]} \n              style={{ width: '100%', height: 280 }}\n              zoom={15}\n              onclick={handleMapClick}\n            >\n              <TileLayer \n                url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n              />\n\n              { position.latitude !== 0 && (\n                <Marker \n                  interactive={false} \n                  icon={MapIcon} \n                  position={[\n                    position.latitude,\n                    position.longitude\n                  ]} \n                />\n              )}\n\n            </Map>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input \n                id=\"name\" \n                value={name} \n                onChange={event => setName(event.target.value)} \n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\n              <textarea \n                id=\"name\" \n                maxLength={300} \n                value={about}\n                onChange={event => setAbout(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n                {previewImages.map(image => {\n                  return (\n                    <img key={image} src={image} alt={name} />\n                  )\n                })}\n\n\n                <label htmlFor=\"image[]\" className=\"new-image\">\n                  <FiPlus size={24} color=\"#15b6d6\" />\n                </label>\n              </div>\n\n              <input \n                multiple \n                type=\"file\" \n                id=\"image[]\" \n                onChange={handleSelectImages}\n              />\n\n              \n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea \n                id=\"instructions\" \n                value={instructions}\n                onChange={event => setInstructions(event.target.value) }\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de funcionamento</label>\n              <input \n                id=\"opening_hours\" \n                value={opening_hours}\n                onChange={event => setOpeningHours(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button \n                  type=\"button\" \n                  className={open_on_weekends ? 'active' : ''}\n                  onClick={() => setOpenOnWeekends(true)}\n                >\n                  Sim\n                </button>\n\n                <button \n                  type=\"button\"\n                  className={!open_on_weekends ? 'active' : ''}\n                  onClick={() => setOpenOnWeekends(false)}\n                >\n                  Não\n                </button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n","import {BrowserRouter,Switch, Route} from 'react-router-dom';\nimport React from 'react';\nimport Landing from './pages/Landing';\nimport OrphanagesMap from './pages/OrphanagesMap';\nimport Orphanage from './pages/Orphanage';\nimport CreateOrphanage from './pages/CreateOrphanage';\n\n\nfunction Routes(){\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={Landing} />\n                <Route path=\"/app\" component={OrphanagesMap} />\n                <Route path=\"/orphanages/create\" component={CreateOrphanage} />\n                <Route path=\"/orphanages/:id\" component={Orphanage} />\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nexport default Routes;","import React from 'react';\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <Routes/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}